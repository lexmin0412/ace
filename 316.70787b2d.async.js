"use strict";(self.webpackChunk_lexmin0412_ace=self.webpackChunk_lexmin0412_ace||[]).push([[316],{61316:function(cn,_,f){f.r(_),f.d(_,{ColorPicker:function(){return Ie},FormInputList:function(){return Pe},LeaveModal:function(){return Ve},NumberAccuracy:function(){return Re},TurboSelect:function(){return We},UltraTable:function(){return _e},useUltraTable:function(){return qe}});var ye=f(54306),P=f.n(ye),je=f(54528),o=f(50959),a=f(11527),Le=["rgb(0, 0, 0)","rgb(38, 38, 38)","rgb(88, 90, 90)","rgb(138, 143, 141)","rgb(216, 218, 217)","rgb(231, 233, 232)","rgb(239, 240, 240)","rgb(244, 245, 245)","rgb(250, 250, 250)","rgb(255, 255, 255)","rgb(223, 42, 63)","rgb(237, 116, 12)","rgb(236, 170, 4)","rgb(251, 222, 40)","rgb(116, 182, 2)","rgb(29, 192, 201)","rgb(17, 124, 238)","rgb(47, 75, 218)","rgb(96, 27, 222)","rgb(210, 45, 141)","rgb(251, 228, 231)","rgb(253, 230, 211)","rgb(249, 239, 205)","rgb(251, 245, 203)","rgb(232, 247, 207)","rgb(206, 245, 247)","rgb(217, 234, 252)","rgb(217, 223, 252)","rgb(230, 220, 249)","rgb(251, 223, 239)","rgb(241, 162, 171)","rgb(248, 184, 129)","rgb(245, 212, 128)","rgb(252, 231, 90)","rgb(193, 231, 126)","rgb(129, 223, 228)","rgb(129, 187, 248)","rgb(150, 167, 253)","rgb(186, 155, 242)","rgb(242, 151, 204)","rgb(228, 73, 91)","rgb(243, 143, 57)","rgb(243, 187, 47)","rgb(237, 206, 2)","rgb(140, 207, 23)","rgb(1, 178, 188)","rgb(47, 142, 244)","rgb(72, 97, 224)","rgb(126, 69, 232)","rgb(231, 70, 164)","rgb(173, 26, 43)","rgb(199, 92, 0)","rgb(201, 145, 3)","rgb(165, 143, 4)","rgb(92, 141, 7)","rgb(7, 120, 126)","rgb(12, 104, 202)","rgb(33, 59, 192)","rgb(76, 22, 177)","rgb(174, 20, 110)","rgb(112, 0, 13)","rgb(102, 48, 0)","rgb(102, 73, 0)","rgb(102, 88, 0)","rgb(42, 66, 0)","rgb(0, 67, 71)","rgb(0, 52, 107)","rgb(16, 30, 96)","rgb(39, 0, 112)","rgb(92, 0, 54)"];function Ie(c){var e=c.labelForSelected,g=e===void 0?"Selected":e,i=c.value,b=c.children,m=c.onChange,h=(0,o.useState)(!1),x=P()(h,2),d=x[0],p=x[1],t=(0,o.useState)("#000"),s=P()(t,2),u=s[0],I=s[1];(0,o.useEffect)(function(){i&&I(i)},[i]),(0,o.useEffect)(function(){var l=function(r){r.target.classList.contains("antd-ce-color-item-inner")||p(!1)};return document.addEventListener("click",l),function(){document.removeEventListener("click",l)}},[]);var y=function(n){console.log("handleColorChange",n),i||I(n),p(!1),m==null||m(n)},S=function(n){var r=n.color;return(0,a.jsx)("div",{className:"antd-ce-color-item",onClick:function(){return y(r)},children:(0,a.jsx)("div",{className:"antd-ce-color-item-inner",style:{backgroundColor:r}})},r)};return console.log("open",d),(0,a.jsx)(je.Z,{open:d,title:"",content:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"header",children:[(0,a.jsx)(S,{color:u}),(0,a.jsx)("div",{className:"header-title",children:g})]}),(0,a.jsx)("div",{style:{display:"flex",flexWrap:"wrap",width:"240px"},children:Le.map(function(l){return(0,a.jsx)(S,{color:l},l)})})]}),children:(0,a.jsx)("div",{id:"antd-ce-popover-overlay",className:"antd-ce-popover-overlay",onClick:function(n){n.stopPropagation(),p(!0)},children:b})})}var ee=f(3420),ne=f(87518),we=f(32699),K=f.n(we);function Ee(){return(0,a.jsxs)("div",{style:{position:"relative",width:"14px",height:"14px"},children:[(0,a.jsx)("div",{style:{position:"absolute",width:"14px",height:"2px",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"#0D6EFF"}}),(0,a.jsx)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"2px",height:"14px",background:"#0D6EFF"}})]})}var F={"form-item-container":"PnaRsySu3ZI_KVKi6vWR","form-item-input":"fD6sgm16zhMn4eMEz5s7",suffix:"g1kOlyr6pEUH8sXca8qz",divider:"_VJplJxSX8bZNDcZ6RAF","substract-button":"eleZ41XEMrDC736gefz0","form-item-add":"fGxoMiHe64Lps7QQdLdL","border-0":"yvFV6se7uEMpH7nE8aqx"};function Pe(c){var e=c.addIcon,g=c.removeIcon,i=c.placeholder,b=i===void 0?"Please input":i,m=c.value,h=c.onChange,x=(0,o.useState)([""]),d=P()(x,2),p=d[0],t=d[1],s=(0,o.useMemo)(function(){return m||p},[m,p]),u=function(){var l=(s||[]).concat([""]);t(l),h==null||h(l)},I=function(l,n){var r=K().cloneDeep(s);r[n]=l.target.value,t(r),h==null||h(r)},y=function(l){var n=K().cloneDeep(s);n.splice(l,1),t(n),h==null||h(n)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:F["form-item-container"],children:(0,a.jsx)(ee.Z.Item,{noStyle:!0,children:(0,a.jsx)(ne.Z,{type:"text",className:F["form-item-input"],placeholder:b,value:s==null?void 0:s[0],onChange:function(l){return I(l,0)}})})}),s==null?void 0:s.map(function(S,l){return l===0?null:(0,a.jsxs)("div",{className:F["form-item-container"],children:[(0,a.jsx)(ee.Z.Item,{colon:!1,noStyle:!0,children:(0,a.jsx)(ne.Z,{value:S,type:"text",className:F["form-item-input"],placeholder:b,onChange:function(r){return I(r,l)}})}),(0,a.jsxs)("div",{className:F.suffix,children:[(0,a.jsx)("div",{className:F.divider}),(0,a.jsx)("div",{onClick:function(){return y(l)},className:F["substract-button"],children:g||"-"})]})]},l)}),(0,a.jsx)("div",{onClick:u,className:"".concat(F["form-item-container"]," ").concat(F["border-0"]),children:(0,a.jsxs)("div",{className:F["form-item-add"],children:[e||(0,a.jsx)(Ee,{}),(0,a.jsx)("span",{children:"Add"})]})})]})}var Fe=f(41518),ae=function(){history.pushState(null,"",window.location.href),Fe.Z.confirm({title:"\u786E\u5B9A\u79BB\u5F00\u6B64\u9875\u9762\uFF1F",content:"\u60A8\u6240\u505A\u7684\u4FEE\u6539\u53EF\u80FD\u4E0D\u4F1A\u88AB\u4FDD\u5B58",onOk:function(){console.log("ok")}})};function Ve(){return(0,o.useEffect)(function(){return history.pushState(null,"",window.location.href),window.addEventListener("popstate",ae),window.addEventListener("beforeunload",function(c){var e="\u786E\u8BA4\u5173\u95ED\u7A97\u53E3\uFF1F";return c.returnValue=e,e}),function(){window.onbeforeunload=null,window.removeEventListener("popstate",ae)}},[]),(0,a.jsx)(a.Fragment,{children:"Leave Modal"})}var Te=f(57213),w=f.n(Te),Q=f(82198),Ne=f(75654);function Re(c){var e=c.style,g=c.value,i=c.onChange,b=c.max,m=b===void 0?10:b,h=(0,o.useState)(0),x=P()(h,2),d=x[0],p=x[1];(0,o.useEffect)(function(){p(g)},[g]);var t=(0,o.useMemo)(function(){return!d||[0,1,2].includes(d)?d:"custom"},[d]),s=(0,o.useMemo)(function(){return t==="custom"},[d]),u=function(S){var l=S==="custom"?3:S;p(l),i==null||i(l)},I=function(S){p(S||0),i==null||i(S||0)};return(0,a.jsxs)("div",{className:"flex items-center",style:w()({},e),children:[(0,a.jsx)(Q.Z,{className:"flex-1",placeholder:"\u8BF7\u9009\u62E9\u7CBE\u786E\u5EA6",value:t,options:[{label:"\u6574\u6570",value:0},{label:"\u4E00\u4F4D\u5C0F\u6570",value:1},{label:"\u4E24\u4F4D\u5C0F\u6570",value:2},{label:"\u81EA\u5B9A\u4E49",value:"custom"}],onChange:u}),s?(0,a.jsx)("div",{className:"w-48 ml-4",children:(0,a.jsx)(Ne.Z,{value:d,min:3,max:m,addonAfter:"\u4F4D\u5C0F\u6570",onChange:I})}):null]})}var He=f(12342),$e=f.n(He),Ae=f(28784),De=f(71054),ke=f(31700),Me=f(25359),A=f.n(Me),Ze=f(49811),Y=f.n(Ze),re=function(e,g){var i=e.searchIdsGetter,b=e.selectChangeHandler,m=e.dropdownVisibleChangeHandler,h=e.blurHandler,x=e.disabled,d=e.mode,p=e.placeholder,t=e.value,s=e.options,u=e.onChange,I=e.onBlur,y=e.request,S=e.availableValues,l=e.disabledValues,n=e.customLabelRenderer,r=e.allowClear,C=e.style,j=e.bordered,E=e.className,T=e.maxTagCount,B=T===void 0?"responsive":T,O=e.suffixIcon,k=e.showSearch,M=k===void 0?!0:k,le=e.labelInValue,en=(0,o.useState)(!1),oe=P()(en,2),ue=oe[0],ie=oe[1],nn=(0,o.useState)([]),se=P()(nn,2),ce=se[0],an=se[1],rn=(0,o.useState)(!1),de=P()(rn,2),D=de[0],Z=de[1],tn=(0,o.useState)(),ve=P()(tn,2),R=ve[0],fe=ve[1],ln=(0,o.useState)(!1),ge=P()(ln,2),G=ge[0],on=ge[1],U=(0,o.useCallback)(function(v){return S!=null&&S.length?S.includes(v.value):!(l!=null&&l.includes(v.value))},[S,l]),W=(0,o.useCallback)(function(v){if(n)return w()(w()({},v),{},{originalLabel:v.label,label:n(v)});if(v.config){var V=JSON.parse(v.config),L=V.color;return w()(w()({},v),{},{originalLabel:v.label,label:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("div",{children:v.label}),(0,a.jsx)("div",{style:{background:L,width:"16px",height:"16px",borderRadius:"4px"}})]})})}return v},[n]),be=(0,o.useMemo)(function(){return s==null?void 0:s.map(function(v){return W(v)}).filter(U)},[s,U,W]),N=(0,o.useCallback)(function(){var v=Y()(A()().mark(function V(L,z){var H,X;return A()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(y){$.next=2;break}return $.abrupt("return",Promise.resolve([]));case 2:return ie(!0),$.next=5,y(L,i(z));case 5:X=$.sent,an(X==null||(H=X.map(function(sn){return W(sn)}))===null||H===void 0?void 0:H.filter(U)),ie(!1);case 8:case"end":return $.stop()}},V)}));return function(V,L){return v.apply(this,arguments)}}(),[U,y,i,W]);(0,o.useEffect)(function(){y&&N("",t&&typeof t=="string"?[t]:t)},[]);var he=(0,o.useCallback)(function(){G&&!D&&Z(!0)},[G,D]),me=(0,o.useCallback)(Y()(A()().mark(function v(){return A()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(on(!0),!y){L.next=4;break}return L.next=4,N("",t&&typeof t=="string"?[t]:t);case 4:Z(!0);case 5:case"end":return L.stop()}},v)})),[N,t,y]),Ce=(0,o.useCallback)(function(){h==null||h(null,{value:R,onBlur:I}),Z(!1)},[h,I,R]);(0,o.useEffect)(function(){K().isEqual(t,R)||(y&&N("",t&&typeof t=="string"?[t]:t),fe(t))},[t]);var xe=(0,o.useCallback)(Y()(A()().mark(function v(){return A()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:if(G){L.next=4;break}g.current.focus(),L.next=7;break;case 4:if(!(y&&G)){L.next=7;break}return L.next=7,N("");case 7:case"end":return L.stop()}},v)})),[G,N,y,g]),J=(0,o.useMemo)(function(){return{bordered:j,open:D,loading:ue,className:"ace-turbo-select ".concat(E),allowClear:r,mode:d,disabled:x,showSearch:M,value:R,placeholder:p,style:C,defaultActiveFirstOption:!1,showArrow:!x,filterOption:y?!1:function(v,V){var L,z,H;return(L=(H=V==null?void 0:V.label)!==null&&H!==void 0?H:"")===null||L===void 0||(z=L.toLowerCase())===null||z===void 0?void 0:z.includes(v.toLowerCase())},notFoundContent:null,options:y?ce:be,dropdownStyle:{padding:"6px"},maxTagCount:B,suffixIcon:O,labelInValue:le}},[r,j,E,ce,x,be,ue,B,d,D,p,y,C,O,R,M,le]),Se=(0,o.useCallback)(function(v){fe(v),b==null||b(v,{open:D,setOpen:Z,options:J.options||[],onChange:u})},[u,D,b,J.options]),pe=(0,o.useCallback)(function(v){Z(v),m==null||m(v,{value:R,onChange:u})},[R,u,m]),un=(0,o.useMemo)(function(){return w()(w()({},J),{},{onSearch:N,onChange:Se,onClick:he,onFocus:me,onBlur:Ce,onClear:xe,onDropdownVisibleChange:pe})},[J,N,Se,he,me,Ce,xe,pe]);return un},q=function(e){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return e==null?void 0:e.filter(function(b){return g==null?void 0:g.some(function(m){return i?m.value===b.value:m.value===b})})},Ge=function(e){var g=e.availableValues,i=e.parentRef,b=e.disabled,m=e.value,h=e.labelInValue,x=(0,o.useRef)(!1),d=(0,o.useRef)(),p=function(n){var r=Array.from(new Set((g||[]).concat(n||[])));return r},t=function(n,r){var C=r.value,j=r.onChange;n||(x.current=!1,I(C,j))},s=function(n,r){var C=r.open,j=r.onChange;!C&&j&&I(n,j)},u=re(w()(w()({},e),{},{searchIdsGetter:p,selectChangeHandler:s,dropdownVisibleChangeHandler:t,blurHandler:y}),d),I=function(n,r){if(!K().isEqual(n,m))if(x.current)r==null||r(n,n==null?void 0:n.map(function(j){var E;return(E=u.options)===null||E===void 0?void 0:E.find(function(T){return T.value===j})}));else{var C=q(n,u.options,h);r==null||r(C,C==null?void 0:C.map(function(j){var E;return(E=u.options)===null||E===void 0?void 0:E.find(function(T){return T.value===j})}))}},y=function(n,r){var C=r.value,j=r.onBlur,E=q(C,u.options,h);j==null||j({target:{value:E}})},S=function(n){var r;x.current=!!n,(r=u.onSearch)===null||r===void 0||r.call(u,n,u.value)};return(0,o.useImperativeHandle)(i,function(){return{getValue:function(){return u.value},getLabel:function(){var n,r;return(n=u.options)===null||n===void 0||(r=n.filter(function(C){var j;return(j=u.value)===null||j===void 0?void 0:j.includes(C.value)}))===null||r===void 0?void 0:r.map(function(C){return C.originalLabel||C.label})},focus:function(){var n;(n=d.current)===null||n===void 0||n.focus()}}}),(0,a.jsx)(Q.Z,w()(w()({},u),{},{ref:d,onSearch:S,mode:"multiple",maxTagCount:u.maxTagCount,notFoundContent:(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:(0,a.jsx)(Ae.Z,{})}),maxTagPlaceholder:function(n){var r=x.current?n:q(n,u.options||[],!0);return(0,a.jsxs)(De.Z,{arrowPointAtCenter:!0,overlayClassName:"bg-white",placement:"topLeft",title:r.map(function(C){return(0,a.jsx)("div",{children:C},C)}),children:["+",r==null?void 0:r.length]})},tagRender:function(n){var r,C=n.label,j=n.value,E=n.closable,T=n.onClose,B=function(M){M.preventDefault(),M.stopPropagation()};if(!C&&!j)return(0,a.jsx)(a.Fragment,{});var O=(r=u.options)===null||r===void 0?void 0:r.some(function(k){return k.value===j});return x||O?(0,a.jsx)(ke.Z,{onMouseDown:B,closable:E,onClose:T,style:{display:"flex",alignItems:"center",height:"24px",lineHeight:"24px",fontSize:"14px",margin:3,color:b?"#bfbfbf":"#000000",border:"1px solid",borderColor:b?"#d9d9d9":"#f0f0f0",background:"#f5f5f5"},children:C}):(0,a.jsx)("span",{style:{display:"block",width:"1px",height:"1px",opacity:1,overflow:"hidden"},children:"\u5360\u4F4D"})}}))},ze=(0,o.forwardRef)(Ge),Ke=function(e){var g=e.availableValues,i=e.options,b=e.parentRef,m=(0,o.useRef)(),h=function(t){var s=Array.from(new Set((g||[]).concat(t||[])));return g||t?s:void 0},x=function(t,s){var u=s.setOpen,I=s.onChange;if(u(!1),I){var y=i==null?void 0:i.find(function(S){return S.value===t});I(t,y)}},d=re(w()(w()({},e),{},{searchIdsGetter:h,selectChangeHandler:x}),m);return(0,o.useImperativeHandle)(b,function(){return{getValue:function(){return d.value},getLabel:function(){var t,s=(t=d.options)===null||t===void 0?void 0:t.find(function(u){return u.value===d.value});return s?s.originalLabel||s.label:""},focus:function(){var t;(t=m.current)===null||t===void 0||t.focus()}}}),(0,a.jsx)(Q.Z,w()(w()({},d),{},{ref:m}))},Be=Ke,Oe=["mode"],Ue=function(e,g){var i=e.mode,b=$e()(e,Oe);return i==="multiple"?(0,a.jsx)(ze,w()({parentRef:g},b)):(0,a.jsx)(Be,w()({parentRef:g},b))},We=(0,o.forwardRef)(Ue),Je=f(11330),Xe=f(13688),Qe=1,te=5,Ye="id",qe=function(){var e=(0,o.useState)(0),g=P()(e,2),i=g[0],b=g[1];return{refreshKey:i,dispatchRefresh:function(){return b(i+1)}}};function _e(c){var e=c.columns,g=c.rowKey,i=g===void 0?Ye:g,b=c.request,m=c.refreshDeps,h=c.renderTotal,x=(0,Je.Z)(function(u){return console.log("enter ultra table request",u),b(u)},{defaultPageSize:te,refreshDeps:m,onSuccess:function(I){console.log("ultra table request success",I)},onError:function(I){console.log("ultra table request error",I)}}),d=x.data,p=x.runAsync,t=x.pagination,s=x.loading;return(0,o.useEffect)(function(){p({current:Qe,pageSize:te})},[]),d!=null&&d.list?(0,a.jsx)(Xe.Z,{className:"ultra-table",columns:e,dataSource:d.list,rowKey:i,pagination:{current:t.current,pageSize:t.pageSize,showSizeChanger:!0,total:t.total,showTotal:h||function(u){return"\u5171 ".concat(u," \u6761")},onChange:t.onChange},loading:s}):null}}}]);
